<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FAAST: using_infrastructure.c++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FAAST
   &#160;<span id="projectnumber">0.2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">using_infrastructure.c++</div>  </div>
</div><!--header-->
<div class="contents">
<p>This example illustrates how to use the <a class="el" href="classFAAST_1_1Field.html#ae07db83f40be93cf6d8eece913fbddef" title="Set the current context to this field&#39;s context.">FAAST::Field::switchContext()</a>, <a class="el" href="classFAAST_1_1FieldElement.html#a3fa3a69553ab9b8575326a438e002001" title="Get the representation of elements whose parent field is Fp.">FAAST::FieldElement::toInfrastructure()</a>, <a class="el" href="classFAAST_1_1FieldPolynomial.html#adcfdbb4c76fa9ef5fd320439888c1560" title="Get the representation of polynomials whose parent field is Fp.">FAAST::FieldPolynomial::toInfrastructure()</a> and <a class="el" href="classFAAST_1_1Field.html#af37d30843638794d31d89f42cb248a0a" title="Build an element of this field from an NTL type.">FAAST::Field::fromInfrastructure()</a> methods.</p>
<dl class="section warning"><dt>Warning</dt><dd>This is for advanced use only, you shouldn't care about this on an ordinary use of the library.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    This file is part of the FAAST library.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    Copyright (c) 2009 Luca De Feo and Ã‰ric Schost.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    The most recent version of FAAST is available at http://www.lix.polytechnique.fr/~defeo/FAAST</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This program is free software; you can redistribute it and/or</span></div>
<div class="line"><span class="comment">    modify it under the terms of the GNU General Public License</span></div>
<div class="line"><span class="comment">    as published by the Free Software Foundation; either version 2</span></div>
<div class="line"><span class="comment">    of the License, or (at your option) any later version.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">    GNU General Public License for more details.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">    You should have received a copy of the GNU General Public License</span></div>
<div class="line"><span class="comment">    along with this program; see file COPYING. If not, write to the Free Software</span></div>
<div class="line"><span class="comment">    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"><span class="preprocessor">#include &lt;faast.hpp&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span>FAAST;</div>
<div class="line"><span class="keywordtype">void</span> main() {</div>
<div class="line">    <a name="_a0"></a><a class="code" href="classFAAST_1_1Field.html" title="A finite field.">Field&lt;zz_p_algebra&gt;</a>&amp; K = <a name="a1"></a><a class="code" href="classFAAST_1_1Field.html#ae2b7263efdfe777aebe63c387107afcb" title="Default instantiator, builds a field from NTL&#39;s context.">Field&lt;zz_p_Algebra&gt;::createField</a>(2, 3);</div>
<div class="line">    <a class="code" href="classFAAST_1_1Field.html" title="A finite field.">Field&lt;zz_p_algebra&gt;</a>&amp; L = K.<a name="a2"></a><a class="code" href="classFAAST_1_1Field.html#a9a03bb939246ee9548c251a6541ce3eb" title="Build a primitive extension of degree p as in [DFS &#39;09, Section 3].">ArtinSchreierExtension</a>();</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Set the context to work in K. */</span></div>
<div class="line">    K.<a name="a3"></a><a class="code" href="classFAAST_1_1Field.html#ae07db83f40be93cf6d8eece913fbddef" title="Set the current context to this field&#39;s context.">switchContext</a>();</div>
<div class="line">    NTL::zz_pX a_polynomial, another_polynomial;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Do something with a_polynomial and another_polynomial</span></div>
<div class="line"><span class="comment">     * WARNING ! If you make library calls here, do not forget</span></div>
<div class="line"><span class="comment">     * to set the context back with K.switchContext().</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    ...</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Convert a_polynomial to an element of K. */</span></div>
<div class="line">    NTL::zz_pE an_element = NTL::to_zz_pE(a_polynomial);</div>
<div class="line">    <a name="_a4"></a><a class="code" href="classFAAST_1_1FieldElement.html" title="An element of a finite field.">FieldElement&lt;zz_p_Algebra&gt;</a> a = K.<a name="a5"></a><a class="code" href="classFAAST_1_1Field.html#af37d30843638794d31d89f42cb248a0a" title="Build an element of this field from an NTL type.">fromInfrastructure</a>(an_element);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Convert another_polynomial to an element of L. This makes sense since</span></div>
<div class="line"><span class="comment">     * K and L have the same characteristic.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    L.<a class="code" href="classFAAST_1_1Field.html#ae07db83f40be93cf6d8eece913fbddef" title="Set the current context to this field&#39;s context.">switchContext</a>();</div>
<div class="line">    NTL::zz_pE another_element = NTL::to_zz_pE(another_polynomial);</div>
<div class="line">    <a class="code" href="classFAAST_1_1FieldElement.html" title="An element of a finite field.">FieldElement&lt;zz_p_Algebra&gt;</a> b = L.<a class="code" href="classFAAST_1_1Field.html#af37d30843638794d31d89f42cb248a0a" title="Build an element of this field from an NTL type.">fromInfrastructure</a>(another_element);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Now work using the library. You don&#39;t have to worry about</span></div>
<div class="line"><span class="comment">     * switching the context as the library does it for you.</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    <a class="code" href="classFAAST_1_1FieldElement.html" title="An element of a finite field.">FieldElement&lt;zz_p_Algebra&gt;</a> c = a &gt;&gt; L;</div>
<div class="line">    c *= b;</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* Extract the NTL representation out of c */</span></div>
<div class="line">    NTL::zz_pE yet_another_element;</div>
<div class="line">    c.<a name="a6"></a><a class="code" href="classFAAST_1_1FieldElement.html#a3fa3a69553ab9b8575326a438e002001" title="Get the representation of elements whose parent field is Fp.">toInfrastructure</a>(yet_another_element);</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* We call an \NTL function not available in the library</span></div>
<div class="line"><span class="comment">     * and we convert the result back to a FieldElement</span></div>
<div class="line"><span class="comment">     */</span></div>
<div class="line">    L.switchContext();  <span class="comment">// this is optional because toInfrastructure()</span></div>
<div class="line">                        <span class="comment">// already switched the context.</span></div>
<div class="line">    NTL:zz_pX yet_another_polynomial = NTL::rep(yet_another_element);</div>
<div class="line">    NTL::LeftShift(yet_another_polynomial, yet_another_polynomial, 1);</div>
<div class="line">    yet_another_element = NTL::to_zz_pE(yet_another_polynomial);</div>
<div class="line">    c = L.fromInfrastructure(yet_another_element);</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 3 2013 20:49:49 for FAAST by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
